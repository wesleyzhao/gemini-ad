!function(){"use strict";const t={"apple-style":{name:"Content Richness Test",controlPage:"/pages/apple-style.html",variationPage:"/pages/apple-style-variation-b.html",splitRatio:.5,active:!0},productivity:{name:"Emotional Appeal Test",controlPage:"/pages/productivity.html",variationPage:"/pages/productivity-variation-b.html",splitRatio:.5,active:!0},trust:{name:"Competitive Positioning Test",controlPage:"/pages/trust.html",variationPage:"/pages/trust-variation-b.html",splitRatio:.5,active:!0},writers:{name:"Outcome Focus Test",controlPage:"/pages/writers.html",variationPage:"/pages/writers-variation-b.html",splitRatio:.5,active:!0},creators:{name:"Design Minimalism Test",controlPage:"/pages/creators.html",variationPage:"/pages/creators-variation-b.html",splitRatio:.5,active:!0},operators:{name:"Time Savings Test",controlPage:"/pages/operators.html",variationPage:"/pages/operators-variation-b.html",splitRatio:.5,active:!0}};function e(){const e=window.location.pathname;for(const a in t){const o=t[a];if(o.active&&(e.includes(o.controlPage)||e.includes(o.variationPage)))return{id:a,config:o}}return null}function a(t,e){const a=`ab-test-${t}`;let o=localStorage.getItem(a);return o||(o=Math.random()<e?"A":"B",localStorage.setItem(a,o),"undefined"!=typeof gtag&&gtag("event","ab_test_assigned",{test_id:t,variant:o,timestamp:(new Date).toISOString()})),o}function o(){if(function(){const t=new URLSearchParams(window.location.search).get("variant");if(t&&("A"===t.toUpperCase()||"B"===t.toUpperCase())){const a=e();if(a){const e=t.toUpperCase();localStorage.setItem(`ab-test-${a.id}`,e),console.log(`[A/B Test] Forced variant ${e} via URL parameter`)}}}(),function(){const t=e();if(!t)return;const{id:o,config:n}=t,i=window.location.pathname,s=a(o,n.splitRatio),r=i.includes(n.controlPage),c=i.includes(n.variationPage),l="B"===s;l&&r?window.location.href=n.variationPage:!l&&c&&(window.location.href=n.controlPage),"undefined"!=typeof gtag&&gtag("event","page_view",{page_title:document.title,page_location:window.location.href,page_variant:s,test_id:o,test_name:n.name})}(),"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname){const t=e();t&&(console.log("[A/B Test] Active test:",t.config.name),console.log("[A/B Test] Assigned variant:",a(t.id,t.config.splitRatio)),console.log("[A/B Test] Debug commands: ABTest.getVariantInfo(), ABTest.clearAssignment(), ABTest.forceVariant()"))}}window.trackCTAClick=function(t){const o=e();if(!o)return void("undefined"!=typeof gtag&&gtag("event","cta_click",{event_category:"Conversion",event_label:t}));const{id:n,config:i}=o,s=a(n,i.splitRatio);"undefined"!=typeof gtag&&gtag("event","cta_click",{event_category:"Conversion",event_label:`${t} - ${i.name} - Variant ${s}`,test_id:n,variant:s,test_name:i.name}),"undefined"!=typeof gtag&&gtag("event","conversion",{test_id:n,variant:s})},window.ABTest={getVariantInfo:function(){const t=e();if(!t)return"Not on an A/B test page";const{id:o,config:n}=t,i=a(o,n.splitRatio);return{testId:o,testName:n.name,variant:i,controlPage:n.controlPage,variationPage:n.variationPage,currentPage:window.location.pathname}},clearAssignment:function(e){if(e)localStorage.removeItem(`ab-test-${e}`),console.log(`Cleared assignment for test: ${e}`);else{for(const e in t)localStorage.removeItem(`ab-test-${e}`);console.log("Cleared all test assignments")}window.location.reload()},forceVariant:function(e,a){t[e]?"A"===a||"B"===a?(localStorage.setItem(`ab-test-${e}`,a),console.log(`Forced variant ${a} for test: ${e}`),window.location.reload()):console.error('Variant must be "A" or "B"'):console.error(`Test ${e} not found`)},getActiveTests:function(){const e={};for(const a in t)t[a].active&&(e[a]=t[a]);return e}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()}();
//# sourceMappingURL=ab-test-router.min.js.map