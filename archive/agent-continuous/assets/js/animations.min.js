function initScrollAnimations(){const e=document.querySelectorAll("[data-animate]");if(!e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,a=n.dataset.animate,r=n.dataset.delay||0;setTimeout(()=>{n.classList.add(a),n.style.opacity="1"},r),"false"!==n.dataset.once&&t.unobserve(n)}})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{e.style.opacity="0",t.observe(e)})}function initParallax(){const e=document.querySelectorAll("[data-parallax]");if(!e.length)return;let t=!1;function n(){const n=window.pageYOffset;e.forEach(e=>{const t=parseFloat(e.dataset.parallax)||.5,a=-n*t;e.style.transform=`translate3d(0, ${a}px, 0)`}),t=!1}window.addEventListener("scroll",function(){t||(requestAnimationFrame(n),t=!0)},{passive:!0})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t)return;const n=document.querySelector(t);if(n){e.preventDefault();const t=document.querySelector(".header")?.offsetHeight||0,a=n.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:a,behavior:"smooth"})}})})}function initHeaderScroll(){const e=document.querySelector(".header");if(!e)return;let t=0;window.addEventListener("scroll",()=>{const n=window.pageYOffset;Math.abs(n-t)<10||(e.style.transform=n>t&&n>100?"translateY(-100%)":"translateY(0)",t=n)},{passive:!0})}function initStaggerAnimation(e,t,n=100){e.querySelectorAll(t);const a=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){e.target.querySelectorAll(t).forEach((e,t)=>{setTimeout(()=>{e.classList.add("fade-in"),e.style.opacity="1"},t*n)}),a.unobserve(e.target)}})},{threshold:.1});a.observe(e)}function typewriterEffect(e,t,n=50){let a=0;e.textContent="",function r(){a<t.length&&(e.textContent+=t.charAt(a),a++,setTimeout(r,n))}()}function animateCounter(e,t,n,a=2e3){const r=(n-t)/(a/16);let i=t;const o=setInterval(()=>{i+=r,i>=n?(e.textContent=Math.round(n),clearInterval(o)):e.textContent=Math.round(i)},16)}function initCardTilt(e){function t(e){const t=e.currentTarget,n=t.getBoundingClientRect(),a=e.clientX-n.left,r=e.clientY-n.top,i=n.width/2,o=(r-n.height/2)/10,s=(i-a)/10;t.style.transform=`perspective(1000px) rotateX(${o}deg) rotateY(${s}deg) scale3d(1.02, 1.02, 1.02)`}function n(e){e.currentTarget.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"}e.forEach(e=>{e.addEventListener("mousemove",t),e.addEventListener("mouseleave",n)})}class SlidingPanel{constructor(e){this.container=e,this.panels=e.querySelectorAll(".panel"),this.currentIndex=0,this.init()}init(){this.createNavigation(),this.showPanel(0),this.startAutoPlay()}createNavigation(){const e=document.createElement("div");e.className="panel-navigation",this.panels.forEach((t,n)=>{const a=document.createElement("button");a.className="panel-dot",a.setAttribute("aria-label",`Go to panel ${n+1}`),a.addEventListener("click",()=>this.goToPanel(n)),e.appendChild(a)}),this.container.appendChild(e),this.dots=e.querySelectorAll(".panel-dot")}showPanel(e){this.panels.forEach((t,n)=>{t.classList.toggle("active",n===e)}),this.dots.forEach((t,n)=>{t.classList.toggle("active",n===e)}),this.currentIndex=e}goToPanel(e){this.showPanel(e),this.resetAutoPlay()}next(){const e=(this.currentIndex+1)%this.panels.length;this.showPanel(e)}startAutoPlay(e=5e3){this.autoPlayTimer=setInterval(()=>this.next(),e)}resetAutoPlay(){clearInterval(this.autoPlayTimer),this.startAutoPlay()}destroy(){clearInterval(this.autoPlayTimer)}}function initVideoAutoplay(){const e=document.querySelectorAll("video[data-autoplay]"),t=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target;if(e.isIntersecting){if("true"===t.dataset.lazyLoad&&!t.dataset.loaded){t.querySelectorAll("source[data-src]").forEach(e=>{e.src=e.dataset.src,e.removeAttribute("data-src")}),t.load(),t.dataset.loaded="true"}t.play().catch(e=>console.log("Video autoplay prevented:",e))}else t.pause()})},{threshold:.25,rootMargin:"50px"});e.forEach(e=>{e.classList.add("lazy-video"),t.observe(e)})}function initMagneticButtons(e){function t(e){const t=e.currentTarget,n=t.getBoundingClientRect(),a=e.clientX-n.left-n.width/2,r=e.clientY-n.top-n.height/2;t.style.transform=`translate(${.2*a}px, ${.2*r}px)`}function n(e){e.currentTarget.style.transform="translate(0, 0)"}e.forEach(e=>{e.addEventListener("mousemove",t),e.addEventListener("mouseleave",n)})}function initLazyLoading(){const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.dataset.srcset&&(n.srcset=n.dataset.srcset,n.removeAttribute("data-srcset")),n.addEventListener("load",()=>{n.classList.add("loaded"),n.removeAttribute("data-src")}),t.unobserve(n)}})},{rootMargin:"50px"});e.forEach(e=>{e.classList.add("lazy-image"),t.observe(e)})}function initIframeLazyLoading(){const e=document.querySelectorAll("iframe[data-src]"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.removeAttribute("data-src"),n.classList.add("loaded"),t.unobserve(n)}})},{rootMargin:"100px"});e.forEach(e=>{e.classList.add("lazy-iframe"),t.observe(e)})}function initGradientAnimation(e){let t=0;!function n(){t=(t+.5)%360,e.style.background=`linear-gradient(135deg,\n            hsl(${t}, 70%, 60%),\n            hsl(${(t+60)%360}, 70%, 60%)\n        )`,requestAnimationFrame(n)}()}function initSVGLazyLoading(){const e=document.querySelectorAll("svg[data-animate-draw]"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.querySelectorAll("path, circle, line, polyline, rect").forEach(e=>{const t=e.getTotalLength?e.getTotalLength():0;t&&(e.style.strokeDasharray=t,e.style.strokeDashoffset=t,e.style.animation="drawPath 2s ease-out forwards")}),n.classList.add("svg-animated"),t.unobserve(n)}})},{threshold:.5,rootMargin:"0px"});e.forEach(e=>t.observe(e))}function initDeferredAnimations(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return void document.body.classList.add("reduce-motion");document.querySelector("[data-parallax]")&&requestIdleCallback(()=>initParallax(),{timeout:2e3});const e=document.querySelectorAll(".card-tilt");e.length&&requestIdleCallback(()=>initCardTilt(e),{timeout:2e3});const t=document.querySelectorAll(".btn-magnetic");t.length&&requestIdleCallback(()=>initMagneticButtons(t),{timeout:2e3})}function initKeyboardNavigation(){document.addEventListener("keydown",e=>{if("Escape"===e.key||27===e.keyCode){document.querySelectorAll('[role="dialog"][aria-modal="true"]').forEach(e=>{const t=e.querySelector("[data-close-modal]");t&&t.click()});document.querySelectorAll('[aria-expanded="true"]').forEach(e=>{e.setAttribute("aria-expanded","false")})}});document.querySelectorAll('[role="dialog"]').forEach(e=>{e.addEventListener("keydown",trapFocus)}),initArrowKeyNavigation(),initCustomKeyPressHandlers()}function trapFocus(e){if("Tab"!==e.key&&9!==e.keyCode)return;const t=e.currentTarget.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(0===t.length)return;const n=t[0],a=t[t.length-1];e.shiftKey?document.activeElement===n&&(e.preventDefault(),a.focus()):document.activeElement===a&&(e.preventDefault(),n.focus())}function initArrowKeyNavigation(){document.querySelectorAll('[role="grid"], .grid, .gallery-grid').forEach(e=>{const t=Array.from(e.querySelectorAll('.card, .page-card, [role="article"]'));t.forEach((n,a)=>{n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),n.addEventListener("keydown",n=>{let r=a;switch(n.key){case"ArrowRight":n.preventDefault(),r=Math.min(a+1,t.length-1);break;case"ArrowLeft":n.preventDefault(),r=Math.max(a-1,0);break;case"ArrowDown":n.preventDefault();const i=getGridColumns(e);r=Math.min(a+i,t.length-1);break;case"ArrowUp":n.preventDefault();const o=getGridColumns(e);r=Math.max(a-o,0);break;case"Home":n.preventDefault(),r=0;break;case"End":n.preventDefault(),r=t.length-1}r!==a&&t[r].focus()}),n.addEventListener("keypress",e=>{if("Enter"===e.key||13===e.keyCode){const e=n.querySelector("a");e&&e.click()}})})})}function getGridColumns(e){if(!e.querySelector('.card, .page-card, [role="article"]'))return 1;const t=window.getComputedStyle(e).gridTemplateColumns;return t&&"none"!==t?t.split(" ").length:1}function initCustomKeyPressHandlers(){document.querySelectorAll('[role="button"]:not(button)').forEach(e=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key&&13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),e.click())})});document.querySelectorAll(".citation-marker").forEach(e=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label",`View source citation ${e.textContent}`)})}function announceToScreenReader(e,t="polite"){let n=document.getElementById("aria-live-announcer");n||(n=document.createElement("div"),n.id="aria-live-announcer",n.className="aria-live-region",n.setAttribute("aria-live",t),n.setAttribute("aria-atomic","true"),document.body.appendChild(n)),n.textContent="",setTimeout(()=>{n.textContent=e},100),setTimeout(()=>{n.textContent=""},5e3)}function enhanceScrollAnimationsWithAria(){const e=document.querySelectorAll("[data-animate]"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target,n=t.getAttribute("aria-label")||t.textContent.substring(0,50);"true"!==t.getAttribute("aria-hidden")&&t.matches('h1, h2, h3, [role="alert"]')&&announceToScreenReader(`${n} appeared`,"polite")}})},{threshold:.5});e.forEach(e=>t.observe(e))}window.requestIdleCallback||(window.requestIdleCallback=function(e,t){const n=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-n))})},1)});class AccessibleSlidingPanel extends SlidingPanel{init(){super.init(),this.addKeyboardSupport(),this.addAriaAttributes()}addKeyboardSupport(){this.container.addEventListener("keydown",e=>{switch(e.key){case"ArrowLeft":e.preventDefault(),this.previous();break;case"ArrowRight":e.preventDefault(),this.next()}}),this.dots.forEach((e,t)=>{e.addEventListener("keypress",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.goToPanel(t))})})}addAriaAttributes(){this.container.setAttribute("role","region"),this.container.setAttribute("aria-label","Interactive panel showcase"),this.panels.forEach((e,t)=>{e.setAttribute("role","tabpanel"),e.setAttribute("aria-label",`Panel ${t+1} of ${this.panels.length}`),e.setAttribute("tabindex",t===this.currentIndex?"0":"-1")}),this.dots.forEach((e,t)=>{e.setAttribute("role","tab"),e.setAttribute("aria-selected",t===this.currentIndex?"true":"false"),e.setAttribute("aria-controls",`panel-${t}`)})}showPanel(e){super.showPanel(e),this.panels.forEach((t,n)=>{t.setAttribute("tabindex",n===e?"0":"-1")}),this.dots.forEach((t,n)=>{t.setAttribute("aria-selected",n===e?"true":"false")}),announceToScreenReader(`Showing panel ${e+1} of ${this.panels.length}`,"polite")}previous(){const e=(this.currentIndex-1+this.panels.length)%this.panels.length;this.goToPanel(e)}}function initAccessibleVideoAutoplay(){document.querySelectorAll("video[data-autoplay]").forEach(e=>{e.setAttribute("aria-label",e.getAttribute("title")||"Video content"),e.addEventListener("keydown",t=>{switch(t.key){case" ":case"k":t.preventDefault(),e.paused?e.play():e.pause();break;case"ArrowRight":t.preventDefault(),e.currentTime+=5;break;case"ArrowLeft":t.preventDefault(),e.currentTime-=5;break;case"f":t.preventDefault(),e.requestFullscreen&&e.requestFullscreen();break;case"m":t.preventDefault(),e.muted=!e.muted}}),e.addEventListener("play",()=>{announceToScreenReader("Video playing","polite")}),e.addEventListener("pause",()=>{announceToScreenReader("Video paused","polite")})}),initVideoAutoplay()}const FocusManager={lastFocusedElement:null,saveFocus(){this.lastFocusedElement=document.activeElement},restoreFocus(){this.lastFocusedElement&&this.lastFocusedElement.focus&&this.lastFocusedElement.focus()},moveFocusTo(e){e&&e.focus&&e.focus()},getFocusableElements:e=>e.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])')};function debounce(e,t){let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...a)},t)}}function throttle(e,t){let n;return function(...a){n||(e.apply(this,a),n=!0,setTimeout(()=>n=!1,t))}}function isInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function getScrollPercentage(){return(window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100}document.addEventListener("DOMContentLoaded",()=>{initKeyboardNavigation(),initScrollAnimations(),initSmoothScroll(),enhanceScrollAnimationsWithAria(),initLazyLoading(),initIframeLazyLoading(),document.querySelector("[data-autoplay]")&&initAccessibleVideoAutoplay(),document.querySelector("[data-animate-draw]")&&initSVGLazyLoading(),document.querySelector(".header")&&initHeaderScroll(),document.querySelectorAll(".sliding-panel-container").forEach(e=>{new AccessibleSlidingPanel(e)}),initDeferredAnimations();const e=document.createElement("div");e.id="aria-live-announcer",e.className="aria-live-region",e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),document.body.appendChild(e)}),"undefined"!=typeof module&&module.exports&&(module.exports={initScrollAnimations:initScrollAnimations,initParallax:initParallax,initSmoothScroll:initSmoothScroll,initHeaderScroll:initHeaderScroll,initStaggerAnimation:initStaggerAnimation,typewriterEffect:typewriterEffect,animateCounter:animateCounter,initCardTilt:initCardTilt,SlidingPanel:SlidingPanel,initVideoAutoplay:initVideoAutoplay,initMagneticButtons:initMagneticButtons,initLazyLoading:initLazyLoading,initGradientAnimation:initGradientAnimation,debounce:debounce,throttle:throttle,isInViewport:isInViewport,getScrollPercentage:getScrollPercentage});
//# sourceMappingURL=animations.min.js.map